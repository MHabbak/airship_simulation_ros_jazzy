<?xml version="1.0" ?>
<robot xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- ✅ SIMPLIFIED: Only essential sensors for PX4 (remove duplicates) -->
  
  <!-- ❌ DISABLED: Ground truth sensors (causing PX4 confusion) -->
  <!-- <xacro:if value="$(arg enable_ground_truth)">
     <xacro:ground_truth_imu_and_odometry namespace="${namespace}" parent_link="base_link" /> 
  </xacro:if> -->

  <xacro:if value="$(arg enable_sensors)">
    <!-- ✅ ONLY ESSENTIAL PX4 SENSORS (single instance each on base_link) -->
    
    <!-- Main IMU for flight control -->
    <xacro:default_imu namespace="${namespace}" parent_link="base_link" />
    
    <!-- Magnetometer for heading estimation -->
    <xacro:default_magnetometer namespace="${namespace}" parent_link="base_link" />
    
    <!-- Barometer for altitude estimation --> 
    <xacro:default_pressure_sensor namespace="${namespace}" parent_link="base_link" />
    
    <!-- GPS for navigation -->
    <xacro:default_gps namespace="${namespace}" parent_link="base_link" /> 
  </xacro:if>

  <!-- ❌ DISABLED: Camera with IMU (causing sensor conflicts) -->
  <!-- <xacro:if value="$(arg enable_sensors)">
    <xacro:include filename="$(find blimp_description)/urdf/asus_camera.urdf.xacro" />
    <xacro:asus_camera
        name="xtion"
        parent="gondola_body_link"
        namespace="${namespace}">
        <origin xyz="0.18 0.0 0.07" rpy="0 0.7853 0"/>
    </xacro:asus_camera>
  </xacro:if> -->

</robot>